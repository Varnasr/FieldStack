
---
title: "Survey-Weighted Education Summary"
output: html_document
---

# Survey-Weighted Education Summary

This notebook demonstrates how to summarise educational outcomes (literacy and school completion) using survey weights in R.

## 📦 Packages Required

```{r setup, message=FALSE, warning=FALSE}
library(dplyr)
library(srvyr)
library(ggplot2)
```

## 📂 Load Data

```{r}
data <- read.csv("education_survey_sample.csv")
head(data)
```

## 🧹 Handle Missing Values

```{r}
# Check for NAs
colSums(is.na(data))
# Drop rows with missing key variables
data_clean <- data %>%
  filter(!is.na(literacy), !is.na(school_completion), !is.na(weight))
```

## 🔄 Convert to Survey Object

```{r}
survey_design <- data_clean %>%
  as_survey_design(weights = weight)
```

## 📊 Weighted Summary by Gender

```{r}
survey_summary <- survey_design %>%
  group_by(gender) %>%
  summarise(
    literacy_rate = survey_mean(literacy),
    school_completion_rate = survey_mean(school_completion)
  )

print(survey_summary)
```

## 📈 Visualise Literacy by District

```{r}
ggplot(data_clean, aes(x = district, fill = factor(literacy))) +
  geom_bar(position = "fill") +
  labs(title = "Literacy Proportion by District", y = "Proportion", fill = "Literate") +
  theme_minimal()
```

## 🧪 Sanity Checks

```{r}
stopifnot(all(data_clean$weight > 0))
stopifnot(all(!is.na(data_clean$literacy)))
```

---

## ▶️ How to Run This Notebook

You can run this `.Rmd` file in RStudio or render it to HTML/PDF using:

- **RStudio**: Click the “Knit” button
- **R Console**: Run `rmarkdown::render("Survey_Education_Summary.Rmd")`
- **Quarto (if using `.qmd`)**: Run `quarto::quarto_render("Survey_Education_Summary.qmd")`

Make sure the file `education_survey_sample.csv` is in your working directory.


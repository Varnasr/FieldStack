
# climate_vulnerability_index.R

library(dplyr)

compute_climate_index <- function(df) {
  df %>%
    group_by(district) %>%
    summarise(
      flood = mean(flood_risk),
      drought = mean(drought_risk),
      temp_var = mean(temperature_variability),
      density = mean(population_density),
      .groups = "drop"
    ) %>%
    mutate(
      climate_index = (flood * 0.4 + drought * 0.3 + temp_var * 0.2 + density / 1000 * 0.1)
    )
}
